"use strict";(globalThis.webpackChunkfront_end=globalThis.webpackChunkfront_end||[]).push([[533],{2878(e,r,t){t.d(r,{h:()=>o});var n=t(6540),l=t(4586);function o(){const{siteConfig:e}=(0,l.A)(),r=e.customFields?.apiBaseUrl,[t,o]=(0,n.useState)(null),[a,s]=(0,n.useState)(!0),[i,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(!r)return c("API base URL is not configured"),void s(!1);let e=!1;return async function(){try{s(!0),c(null);const n=(t="api/query",`${r.replace(/\/+$/,"")}/${t.replace(/^\/+/,"")}`),l=await fetch(n,{method:"POST",headers:{"Content-Type":"text/plain",Accept:"application/json"},body:JSON.stringify({contract_version:"kpi_request.v1",kpi:"volume"})});let a=null;const i=await l.text();try{a=i?JSON.parse(i):null}catch{a=null}if(!l.ok){const e=a?.error||a?.message||(i?i.slice(0,160):`Request failed (${l.status})`);throw new Error(e)}if(!1===a?.ok)throw new Error(a?.error??"API error");e||o({value:a?.result?.data_array?.[0]?.[0]??null})}catch(n){e||(console.error("\u274c useExecVolumeKpi error:",n),c(n?.message??"Unknown error"),o(null))}finally{e||s(!1)}var t}(),()=>{e=!0}},[r]),{data:t,loading:a,error:i}}},6539(e,r,t){t.r(r),t.d(r,{default:()=>o});t(6540);var n=t(2878),l=t(4848);function o(){const{data:e,loading:r,error:t}=(0,n.h)();return(0,l.jsxs)("div",{style:{padding:24},children:[(0,l.jsx)("h1",{children:"API Test \u2013 Exec Volume KPI"}),r&&(0,l.jsx)("p",{children:"Loading\u2026"}),t&&(0,l.jsx)("pre",{style:{color:"red"},children:t}),e&&(0,l.jsx)("pre",{children:JSON.stringify(e,null,2)})]})}}}]);