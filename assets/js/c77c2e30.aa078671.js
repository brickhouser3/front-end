"use strict";(globalThis.webpackChunkfront_end=globalThis.webpackChunkfront_end||[]).push([[773],{1602(e,t,r){r.r(t),r.d(t,{default:()=>Q});var n=r(6540),i=r(4894),o=r(4586),a=r(5084),l=r(4119),c=r(9107),s=r(7984),u=r(3495),d=r(8880),p=r(961),f=r(5846),h=r(4164),g=r(9303),m=r(1242),y=r(8940),v=r(7404);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(null,arguments)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=32,O={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function S(e){var t,{data:r,iconType:i,inactiveColor:o}=e,a=16,l=w/6,c=w/3,s=r.inactive?o:r.color,u=null!=i?i:r.type;if("none"===u)return null;if("plainline"===u)return n.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:null===(t=r.payload)||void 0===t?void 0:t.strokeDasharray,x1:0,y1:a,x2:w,y2:a,className:"recharts-legend-icon"});if("line"===u)return n.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(c,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(a,"\n            H").concat(w,"M").concat(2*c,",").concat(a,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if("rect"===u)return n.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(w,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(n.isValidElement(r.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r);return delete d.legendIcon,n.cloneElement(r.legendIcon,d)}return n.createElement(m.i,{fill:s,cx:a,cy:a,size:w,sizeType:"diameter",type:u})}function P(e){var{payload:t,iconSize:r,layout:i,formatter:o,inactiveColor:a,iconType:l}=e,c={x:0,y:0,width:w,height:w},s={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,i)=>{var d=t.formatter||o,p=(0,h.$)({"recharts-legend-item":!0,["legend-item-".concat(i)]:!0,inactive:t.inactive});if("none"===t.type)return null;var f=t.inactive?a:t.color,m=d?d(t.value,t,i):t.value;return n.createElement("li",b({className:p,style:s,key:"legend-item-".concat(i)},(0,y.XC)(e,t,i)),n.createElement(g.u,{width:r,height:r,viewBox:c,style:u,"aria-label":"".concat(m," legend icon")},n.createElement(S,{data:t,iconType:l,inactiveColor:a})),n.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},m))})}var k=e=>{var t=(0,v.e)(e,O),{payload:r,layout:i,align:o}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===i?o:"left"};return n.createElement("ul",{className:"recharts-default-legend",style:a},n.createElement(P,b({},t,{payload:r})))},E=r(9744),T=r(9799),z=r(9082),A=r(7962);var N=r(6583),C=r(9287),R=r(1283),D=["contextPayload"];function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(null,arguments)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){return e.value}function $(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,D),i=(0,T.s)(t,e.payloadUniqBy,V),o=W(W({},r),{},{payload:i});return n.isValidElement(e.content)?n.cloneElement(e.content,o):"function"==typeof e.content?n.createElement(e.content,o):n.createElement(k,o)}function _(e){var t=(0,z.j)();return(0,n.useEffect)(()=>{t((0,R.h1)(e))},[t,e]),null}function B(e){var t=(0,z.j)();return(0,n.useEffect)(()=>(t((0,R.hx)(e)),()=>{t((0,R.hx)({width:0,height:0}))}),[t,e]),null}var L={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function H(e){var t=(0,v.e)(e,L),r=(0,z.G)(A.g0),i=(0,f.M)(),o=(0,C.Kp)(),{width:a,height:l,wrapperStyle:c,portal:s}=t,[u,d]=(0,N.V)([r]),h=(0,C.yi)(),g=(0,C.rY)();if(null==h||null==g)return null;var m=h-((null==o?void 0:o.left)||0)-((null==o?void 0:o.right)||0),y=function(e,t,r,n){return"vertical"===e&&(0,E.Et)(t)?{height:t}:"horizontal"===e?{width:r||n}:null}(t.layout,l,a,m),b=s?c:W(W({position:"absolute",width:(null==y?void 0:y.width)||a||"auto",height:(null==y?void 0:y.height)||l||"auto"},function(e,t,r,n,i,o){var a,l,{layout:c,align:s,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(a="center"===s&&"vertical"===c?{left:((n||0)-o.width)/2}:"right"===s?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(l="middle"===u?{top:((i||0)-o.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),W(W({},a),l)}(c,t,o,h,g,u)),c),j=null!=s?s:i;if(null==j||null==r)return null;var x=n.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},n.createElement(_,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!s&&n.createElement(B,{width:u.width,height:u.height}),n.createElement($,F({},t,y,{margin:o,chartWidth:h,chartHeight:g,contextPayload:r})));return(0,p.createPortal)(x,j)}H.displayName="Legend";var U=r(59),q=r(4848);function J({apiResult:e}){const t=(0,n.useMemo)(()=>e?.result?.data_array?e.result.data_array.map(e=>({month:e[0],"2025 Volume":parseFloat(e[1]),"2024 Volume":parseFloat(e[2])})):[],[e]);return 0===t.length?null:(0,q.jsxs)("div",{style:{marginTop:20,marginBottom:20,padding:15,background:"white",borderRadius:12,border:"1px solid rgba(15,23,42,0.1)"},children:[(0,q.jsx)("h3",{style:{margin:"0 0 15px 0",fontSize:16,fontWeight:700},children:"\ud83d\udcca Volume Performance (2025 vs 2024)"}),(0,q.jsx)("div",{style:{width:"100%",height:350},children:(0,q.jsx)(a.u,{width:"100%",height:"100%",children:(0,q.jsxs)(l.E,{data:t,margin:{top:5,right:30,left:10,bottom:5},children:[(0,q.jsx)(c.d,{strokeDasharray:"3 3",vertical:!1,opacity:.5}),(0,q.jsx)(s.W,{dataKey:"month",tickFormatter:e=>`${e.substring(4,6)}/${e.substring(2,4)}`,tick:{fontSize:11},axisLine:!1,tickLine:!1}),(0,q.jsx)(u.h,{tickFormatter:e=>`${(e/1e6).toFixed(1)}M`,tick:{fontSize:11},axisLine:!1,tickLine:!1}),(0,q.jsx)(d.m,{contentStyle:{borderRadius:8,border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:e=>new Intl.NumberFormat("en-US").format(Math.round(e)),labelFormatter:e=>`Period: ${e}`}),(0,q.jsx)(H,{wrapperStyle:{fontSize:12,paddingTop:10}}),(0,q.jsx)(U.yP,{dataKey:"2025 Volume",fill:"#2563eb",radius:[4,4,0,0],maxBarSize:50}),(0,q.jsx)(U.yP,{dataKey:"2024 Volume",fill:"#94a3b8",radius:[4,4,0,0],maxBarSize:50})]})})})]})}function K({apiUrl:e,origin:t,running:r,results:n,onRunTests:i}){return(0,q.jsxs)("div",{style:{padding:22,maxWidth:1100},children:[(0,q.jsx)("h1",{style:{margin:0,fontSize:22,fontWeight:800},children:"Support"}),(0,q.jsx)("p",{style:{marginTop:10,color:"rgba(15,23,42,0.70)"},children:"API diagnostics \u2014 Frontend \u2192 Vercel \u2192 Databricks"}),(0,q.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginTop:16,marginBottom:10,flexWrap:"wrap"},children:[(0,q.jsx)("button",{onClick:i,disabled:r,style:{padding:"10px 14px",borderRadius:10,fontWeight:700,border:"1px solid rgba(15,23,42,0.15)",background:r?"#e5e7eb":"#ffffff",cursor:r?"not-allowed":"pointer"},children:r?"Running\u2026":"Run API Tests"}),(0,q.jsxs)("div",{style:{fontSize:12,color:"rgba(15,23,42,0.6)"},children:["Target: ",(0,q.jsx)("code",{children:e})]})]}),0===n.length?(0,q.jsx)("div",{style:{fontSize:13,color:"rgba(15,23,42,0.6)"},children:"No test results yet."}):(0,q.jsx)("div",{style:{display:"grid",gap:14,marginTop:10},children:n.map((e,t)=>{const r=e.name.toLowerCase().includes("volume")&&e.ok;return(0,q.jsxs)("div",{style:{padding:14,borderRadius:14,border:"1px solid rgba(15,23,42,0.12)",background:"rgba(255,255,255,0.75)"},children:[(0,q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[(0,q.jsxs)("div",{style:{fontWeight:700},children:[e.ok?"\u2705":"\u274c"," ",e.name]}),(0,q.jsxs)("div",{style:{fontFamily:"monospace",fontSize:12,opacity:.7},children:[e.status," \u2022 ",e.ms,"ms"]})]}),(0,q.jsx)("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:(0,q.jsxs)("div",{children:[(0,q.jsx)("strong",{children:"CORS allow-origin:"})," ",(0,q.jsx)("code",{children:e.responseHeaders["access-control-allow-origin"]??"(not exposed / missing)"})]})}),r&&(0,q.jsx)(J,{apiResult:e.json}),(0,q.jsxs)("details",{style:{marginTop:10},children:[(0,q.jsx)("summary",{style:{cursor:"pointer",fontWeight:600},children:"Parsed JSON"}),(0,q.jsx)("pre",{style:{marginTop:8,fontSize:12,overflow:"auto",maxHeight:200},children:JSON.stringify(e.json,null,2)})]}),!e.ok&&e.error?(0,q.jsxs)("div",{style:{marginTop:10,color:"rgba(220,38,38,0.9)",fontSize:12},children:[(0,q.jsx)("strong",{children:"Error:"})," ",e.error]}):null]},t)})})]})}async function G(e,t,r){const n=performance.now();try{const i=await fetch(t,r),o=Math.round(performance.now()-n),a=await i.text(),l=function(e){try{return JSON.parse(e)}catch{return null}}(a),c=Object.fromEntries(i.headers.entries());return{name:e,ok:i.ok,status:i.status,ms:o,url:t,responseHeaders:c,raw:a,json:l,error:i.ok?void 0:a}}catch(i){return{name:e,ok:!1,status:0,ms:Math.round(performance.now()-n),url:t,responseHeaders:{},raw:"",json:null,error:i?.message??"Failed to fetch"}}}function Q(){const{siteConfig:e}=(0,o.A)(),t=e.customFields||{},r=t.apiProdQueryUrl,a=t.apiBaseUrl,l=(0,n.useMemo)(()=>{return r&&r.trim()?r.trim().replace(/\/+$/,""):a&&a.trim()?(e=a.trim(),t="api/query",`${e.replace(/\/+$/,"")}/${t.replace(/^\/+/,"")}`):"https://ci-capabilities-api.vercel.app/api/query";var e,t},[r,a]),c="undefined"!=typeof window?window.location.origin:"(ssg)",[s,u]=(0,n.useState)(!1),[d,p]=(0,n.useState)([]);return(0,q.jsx)(i.A,{children:(0,q.jsx)(K,{apiUrl:l,origin:c,running:s,results:d,onRunTests:async function(){u(!0),p([]);const e=[];e.push(await G("GET (health)",l,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"})),p([...e]),e.push(await G("POST ping (transport only)",l,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({contract_version:"kpi_request.v1",kpi:"volume",filters:{megabrand:["MICHELOB ULTRA"]}})})),p([...e]),e.push(await G("POST kpi_request.v1 (volume)",l,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({contract_version:"kpi_request.v1",kpi:"volume"})})),p([...e]),u(!1)}})})}}}]);